<section>
    <header>
        <div class="saved-lists">
            <i class="material-icons">list</i>
            <span class="saved-lists-heading">SAVED LISTS</span>
        </div>
        <div class="saved-filters">
            <i class="material-icons-outlined">filter_alt</i>
            <span class="saved-filters-heading">SAVED FILTERS</span>
        </div>
        <div class="search-history">
            <i class="material-icons-outlined">history</i>
            <span class="search-history-heading">SEARCH HISTORY</span>
        </div>
        <div class="search-section">
            <input type="text" placeholder="Search" [(ngModel)]="listname"
                (keyup)="searchListName($event.target.value)">
        </div>
    </header>
    <section class="table-section">
        <div class="table-div">
            <table mat-table id="table_data" [dataSource]="dataSource" class="mat-elevation-z8">


                <ng-container matColumnDef="date">
                    <th mat-header-cell *matHeaderCellDef> Date</th>
                    <td mat-cell *matCellDef="let element;let i=index" class="date-cell">
                        <span *ngIf="element.date.length > 0">{{element.date }}</span>
                        <i class="material-icons-outlined" *ngIf="element.date.length === 0">donut_large</i>
                    </td>
                </ng-container>


                <ng-container matColumnDef="list_name">
                    <th mat-header-cell *matHeaderCellDef> List Name</th>
                    <td mat-cell *matCellDef="let element">
                        <span
                            [ngStyle]="{'color': element.no_of_entities === 0 ? '#73C2EF' : '#000000'}">{{element.list_name}}</span>
                    </td>
                </ng-container>

                <ng-container matColumnDef="no_of_entities">
                    <th mat-header-cell *matHeaderCellDef> No. of Entities </th>
                    <td mat-cell *matCellDef="let element" class="entities"><span>{{element.no_of_entities}}</span>
                    </td>
                </ng-container>


                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef> Actions </th>
                    <td mat-cell *matCellDef="let element" class="icon-container">
                        <i class="material-icons-outlined mail-icon">mail</i>
                        <i class="material-icons-outlined" *ngIf="element.no_of_entities > 0">share</i>
                        <i class="material-icons-outlined" *ngIf="element.no_of_entities > 0">edit</i>
                        <i class="material-icons-outlined" *ngIf="element.no_of_entities > 0">delete</i>
                    </td>
                </ng-container>


                <ng-container matColumnDef="details">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let element" class="details-cell" (click)="showDetails(element)">
                        <span [ngClass]="{'highlight-detail': element.selected}">Details</span>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns "
                    [ngClass]="{'highlight': selectedRowIndex == row.id}" (click)="highlight(row)"></tr>
            </table>
        </div>
        <div>
            <div class="description-box">
                <span>No description yet</span>
                <span class="description">+Add Description</span>
            </div>
            <div *ngIf="showDescription" class="description-container">
                <div *ngFor="let des of descriptionArr">
                    {{des}}
                </div>
            </div>
        </div>
    </section>
</section>